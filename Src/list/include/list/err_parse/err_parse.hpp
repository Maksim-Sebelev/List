#ifndef __ERR_PASRE__
#define __ERR_PASRE__

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "list/list.hpp"

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

void        ListAssert            (List_t* list, ListError_t err, const char* file, unsigned int line, const char* func);

void        ErrTransfer           (ListError_t* err         , const char* file, unsigned int line, const char* func);

ListError_t   ListErrorStatusCtor (ListErrorType   err_type , const char* file, unsigned int line, const char* func);
ListError_t ListWarningStatusCtor (ListWarningType warn_type, const char* file, unsigned int line, const char* func);
ListError_t      ListOkStatusCtor ();

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define LIST_ASSERT(list_ptr, err) ListAssert(list_ptr, err, __FILE__, __LINE__, __func__)

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define GET_STATUS_OK(           ) ListOkStatusCtor     (                                       )
#define GET_STATUS_WARN(warn_type) ListWarningStatusCtor(warn_type, __FILE__, __LINE__, __func__)
#define GET_STATUS_ERR( err_type ) ListErrorStatusCtor  (err_type , __FILE__, __LINE__, __func__)

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define ASSERT_PRINT(err_ptr)      ListAssertPrint      (err_ptr  , __FILE__, __LINE__, __func__)

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define TRANSFER_ERROR(err_ptr)    ErrTransfer          (err_ptr  ,  __FILE__, __LINE__, __func__)

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define RETURN_IF_ERR(err) do          \
{                                       \
    ListError_t err_copy = err;          \
    if (err_copy.err == ListStus::ERR)    \
        return TRANSFER_ERROR(&err_copy);  \
} while(0)                                  \

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define RETURN_IF_ERR_OR_WARN(err) do  \
{                                       \
    ListError_t err_copy = err;          \
    if (err_copy.err != ListStus::OK)     \
        return TRANSFER_ERROR(&err_copy);  \
} while(0)                                  \

//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif // __ERR_PASRE__
